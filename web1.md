# 信息收集技术

## 站点信息收集
1. 站点搭建分析：目录，端口，子域名，类似域名，旁注（同服务器不同站点），C段（同网段不同服务器不同站点），搭建软件特征（宝塔，phpstudy等），以及其他

2. WAF相关：WAF识别（工具：wafw00f）

3. APP资产收集：APK数据提取（一键反编译提取URL），burp suite捕获HTTP数据包（HTTP history）

4. APP信息收集（有IP无Web）：端口扫描，接口扫描，接口测试

5. 源码/EXP收集：通过github监控脚本实时推送

6. 域名收集：子域名，相似域名，相关域名，HTTP证书日志搜集，cloudflare，解析记录（netcraft,virustotal等），搜索引擎，枚举，主站爬取，备案信息查询，whois查询和关联查询，IP反查，网段分析，域名大数据（泄露的旧信息）

## CDN绕过技术
1. 子域名查询（同IP无CDN，或在同网段，或无关联）

2. 邮件服务查询（使目标主动发送邮件以暴露真实IP）

3. 国外地址请求（利用CDN难以覆盖全球的特性，使用国外地址进行访问请求）

4. 遗留文件（phpinfo等），扫描全网（CDN难以覆盖全球）

5. 黑暗引擎搜索特定文件（shodan，钟馗之眼，fofa）

6. dns历史记录（直接查询），以量打量（DDoS，慎用）

### note：
有些网站在做CDN解析的时候可能会忘记加入*.xx.com，而只做www.xx.com的解析，导致使用ping直接解析xx.com，而不加"www."时，可以获取真实IP；

用国外节点（VPN等方式）或国外ping网站对目标进行访问以绕过CDN（尽可能选择偏僻国家）；

查询到疑似真实IP后，可以通过目标站备案号或公司地址等方式获取目标大概地理位置，与查到IP所属位置进行比对从而提高可靠性；

在进一步确认所查IP真实性时，可以修改本地hosts文件，将目标域名在本地解析至该IP，看是否能直接正常访问；

相关工具：fuckcdn，w8fuckcdn，zmap等
